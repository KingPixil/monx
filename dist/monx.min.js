/**
 * Monx v0.0.1
 * Copyright 2017 Kabir Shah
 * Released under the MIT License
 * https://github.com/KingPixil/monx
 */
!function(t,i){"object"==typeof module&&module.exports?module.exports=i():t.Monx=i()}(this,function(){function t(t){this.state={},s(this,"_state",t.state,{}),s(this,"actions",t.actions,{}),this.instances=[],this.map={}}var i=null,n=null,o={},s=function(t,i,n,o){t[i]=void 0===n?o:n};return t.prototype.dispatch=function(t,i){this.actions[t](this.state,i)},t.prototype.install=function(t){var i=null,o=this.instances,s=this.map;o.push(t);var e=this.state,a=this._state;for(var p in a)!function(t){Object.defineProperty(e,t,{get:function(){return null!==n&&(void 0===s[n]&&(s[n]={}),s[n][t]=!0),a[t]},set:function(n){a[t]=n;for(var e=0;e<o.length;e++)!0===s[(i=o[e]).$name][t]&&i.build()}})}(p)},t.init=function(t){var s=(i=t).prototype.init,e=i.prototype.mount;i.prototype.init=function(){var t=null;void 0!==(t=this.$options.store)&&(this.$data.store=t,t.install(this)),s.apply(this,arguments)},i.prototype.mount=function(){var t=null;void 0!==this.$options.store&&!0!==o[t=this.$name]?(o[t]=!0,n=t,e.apply(this,arguments),n=null):e.apply(this,arguments)}},t});