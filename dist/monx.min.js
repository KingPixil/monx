/**
 * Monx v0.1.0
 * Copyright 2017 Kabir Shah
 * Released under the MIT License
 * https://github.com/KingPixil/monx
 */
!function(t,n){"object"==typeof module&&module.exports?module.exports=n():t.Monx=n()}(this,function(){function t(t){this.state={},e(this,"_state",t.state,{}),e(this,"actions",t.actions,{}),this.instances=[],this.map={},o(this)}var n=Moon.prototype.destroy,i=null,s={},o=function(t){var n=null,s=t.instances,o=t.map,e=t.state,r=t._state;for(var a in r)!function(t){Object.defineProperty(e,t,{get:function(){return null!==i&&(void 0===o[i]&&(o[i]={}),o[i][t]=!0),r[t]},set:function(i){r[t]=i;for(var e=0;e<s.length;e++)!0===o[(n=s[e]).$name][t]&&n.build()}})}(a)},e=function(t,n,i,s){t[n]=void 0===i?s:i};return t.prototype.dispatch=function(t,n){this.actions[t](this.state,n)},t.prototype.install=function(t){var i=this;t.destroy=function(){var t=i.instances;t.splice(t.indexOf(this),1),n.apply(this,arguments)},this.instances.push(t)},t.init=function(t){var n=t.prototype.render;t.prototype.render=function(){var t=null,o=null,e=null;return void 0!==(e=this.$options.store)?(this.$data.store=e,e.install(this),!0!==s[t=this.$name]?(s[t]=!0,i=t,o=n.apply(this,arguments),i=null):o=n.apply(this,arguments)):o=n.apply(this,arguments),this.render=n,o}},t});