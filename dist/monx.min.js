/**
 * Monx v0.1.1
 * Copyright 2017 Kabir Shah
 * Released under the MIT License
 * https://github.com/kbrsh/monx
 */
!function(t,n){"undefined"==typeof module?t.Monx=n():module.exports=n()}(this,function(){function t(t){this.state={},i(this,"_state",t.state,{}),i(this,"actions",t.actions,{}),this.instances=[],this.map={},this.target=void 0,e(this)}var n,e=function(t){var n=t.state,e=t._state,i=t.instances,a=t.map;for(var s in e)!function(s){Object.defineProperty(n,s,{get:function(){var n=t.target;return void 0!==n&&(a[n][s]=!0),e[s]},set:function(t){e[s]=t;for(var n=0;n<i.length;n++){var o=i[n];!0===a[o.name][s]&&o.build()}},enumerable:!0})}(s)},i=function(t,n,e,i){t[n]=void 0===e?i:e};return t.prototype.dispatch=function(t,n){this.actions[t](this.state,n)},t.prototype.init=function(t){var e=t.name,i=this;t.data.store=i;var a=t.render;t.render=function(){i.target=e;var t=a.apply(this,arguments);return i.target=void 0,t},t.destroy=function(){var t=i.instances;t.splice(t.indexOf(this),1),delete i.map[e],n.apply(this,arguments)},i.instances.push(t),i.map[e]={}},t.init=function(t){n=t.prototype.destroy},t});