/**
 * Monx v0.0.1
 * Copyright 2017 Kabir Shah
 * Released under the MIT License
 * https://github.com/KingPixil/monx
 */
!function(t,n){"object"==typeof module&&module.exports?module.exports=n():t.Monx=n()}(this,function(){function t(t){this.state={},s(this,"_state",t.state,{}),s(this,"actions",t.actions,{}),this.instances=[],this.map={}}var n=null,i=null,o={},s=function(t,n,i,o){t[n]=void 0===i?o:i};return t.prototype.dispatch=function(t,n){this.actions[t](this.state,n)},t.prototype.install=function(t){var n=null,o=this.instances,s=this.map;o.push(t);var e=this.state,r=this._state;for(var a in r)!function(t){Object.defineProperty(e,t,{get:function(){return null!==i&&(void 0===s[i]&&(s[i]={}),s[i][t]=!0),r[t]},set:function(i){r[t]=i;for(var e=0;e<o.length;e++)!0===s[(n=o[e]).$name][t]&&n.build()}})}(a)},t.init=function(t){var s=(n=t).prototype.init,e=n.prototype.render;n.prototype.init=function(){var t=null;void 0!==(t=this.$options.store)&&(this.$data.store=t,t.install(this)),s.apply(this,arguments)},n.prototype.render=function(){var t=null,n=null;return void 0!==this.$options.store&&!0!==o[t=this.$name]?(o[t]=!0,i=t,n=e.apply(this,arguments),i=null):n=e.apply(this,arguments),this.render=e,n}},t});